
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.2.6">
    
    
      
        <title>Get Started with Antourage Viewer Capacitor SDK - Antourage</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.9d5733d3.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#get-started-with-antourage-viewer-capacitor-sdk" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Antourage" class="md-header__button md-logo" aria-label="Antourage" data-md-component="logo">
      
  <img src="../../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Antourage
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Get Started with Antourage Viewer Capacitor SDK
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Overview
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../web/" class="md-tabs__link">
        Developers
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../faq/" class="md-tabs__link">
        FAQ
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Antourage" class="md-nav__button md-logo" aria-label="Antourage" data-md-component="logo">
      
  <img src="../../img/favicon.ico" alt="logo">

    </a>
    Antourage
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Developers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developers" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../web/" class="md-nav__link">
        Web
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../push-notifications/" class="md-nav__link">
        Push Notfications
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          FAQ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="FAQ" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          FAQ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="get-started-with-antourage-viewer-capacitor-sdk">Get Started with Antourage Viewer Capacitor SDK</h1>
<h2 id="pre-requisites">Pre-requisites</h2>
<p>For a successful integration please find our requirements below and make sure that you are compatible.</p>
<ul>
<li><a href="https://capacitorjs.com/docs/getting-started">Capacitor</a></li>
<li>iOS:<ul>
<li>Xcode 12.5 or later</li>
<li>CocoaPods 1.10.0 or later</li>
<li>Project must target iOS 11.3 or later</li>
<li>Landscape orientation support</li>
</ul>
</li>
<li>Android:<ul>
<li>Minimum Android SDK: Antourage widget requires a minimum API level of 21;</li>
<li>Starting from 0.2.0 version library has migrated to the androidX, so make sure that you have
<div class="highlight"><pre><span></span><code>android.useAndroidX=true
android.enableJetifier=true
</code></pre></div>
in your gradle.properties</li>
</ul>
</li>
</ul>
<h2 id="install">Install</h2>
<p>Antourage SDK is installed with <a href="https://www.npmjs.com/">npm (Node Package Manager)</a>. To install the SDK go through steps below:<br />
<strong>Step 1</strong><br />
<div class="highlight"><pre><span></span><code>npm i antourage-capacitor --save
</code></pre></div>
<strong>Step 2</strong><br />
<div class="highlight"><pre><span></span><code>npx cap sync
</code></pre></div>
<strong>Android Additional Configuration</strong></p>
<ol>
<li>
<p>You should find app build.gradle file and add  <code>maven { url 'https://jitpack.io' }</code> to the repositories block.
<img src="../../img/screenshots/android2.png" alt="Screenshots" width="100%" /></p>
</li>
<li>
<p>You should create variable <code>private AntourageCapacitor antouragePlugin;</code>, add <code>import com.antourage.plugin.AntourageCapacitor;</code> , <code>add(AntourageCapacitor.class);</code> and initialize antouragePlugin with <code>antouragePlugin = (AntourageCapacitor) getBridge().getPlugin(AntourageCapacitor.class.getAnnotation(NativePlugin.class).name()).getInstance();</code> in MainActivity class.
Also you need to add <code>antouragePlugin.onPause();</code> and <code>antouragePlugin.onResume();</code> to overriden <code>onPause</code> and <code>onResume</code> methods accordingly, as you see below:
<img src="../../img/screenshots/android1.png" alt="Screenshots" width="100%" /></p>
</li>
<li>
<p><code>npx cap sync</code></p>
</li>
</ol>
<h3 id="add-an-antourage-config-file">Add an Antourage config file</h3>
<p>Please be sure that you already have the config file, otherwise please contact <a href="mailto:pavlo.hodysh@antourage.com">Antourage</a> to request one for your application.
The file contains a data for authorization (app client ids, redirect urls, etc.)</p>
<div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">iOS</label><div class="tabbed-content">
<p>Move your <em>Antourage-Info.plist</em> config file into your Xcode project. If prompted, select to add the config file to all targets.</p>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">Android</label><div class="tabbed-content">
<p>Move your <em>antourage_info.json</em> config file into your project's assets folder. If there's no assets folder in your project - simply create it at app/src/main/.</p>
</div>
</div>
<h3 id="initialization">Initialization</h3>
<p>You should try to call this method once per app lifecycle.
<div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Plugins</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@capacitor/core&#39;</span><span class="p">;</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">Antourage</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Plugins</span><span class="p">;</span>

<span class="nx">Antourage</span><span class="p">.</span><span class="nx">configure</span><span class="p">();</span>
</code></pre></div></p>
<h3 id="add-ui-part">Add UI part</h3>
<p>The main feature of Antourage SDK is the widget — a simple button that should be placed on your screen. The widget will fully work only after successful configuration.
If you need to know when the Feed screen appears and disappears you can use callbacks.</p>
<p>Antourage widget works as overlay over Capacitor web view. You can show and hide it whenever you want (navigation handlers or component lifecycle etc).</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Plugins</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@capacitor/core&#39;</span><span class="p">;</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">Antourage</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Plugins</span><span class="p">;</span>

<span class="nx">Antourage</span><span class="p">.</span><span class="nx">showWidget</span><span class="p">();</span>

<span class="nx">Antourage</span><span class="p">.</span><span class="nx">hideWidget</span><span class="p">();</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>onViewerAppear</td>
<td>Closure</td>
<td>Called when the user opens the widget controller.</td>
</tr>
<tr>
<td>onViewerDisappear</td>
<td>Closure</td>
<td>Called when the user dismisses the widget controller.</td>
</tr>
</tbody>
</table>
<h3 id="orientation-ios-only">Orientation (iOS only)</h3>
<p>Your app may support only portrait orientation, but our widget should be able to use landscape orientation while playing video.</p>
<p>First of all you should enable ladnscape orientation in xcode project.
<img src="../../img/screenshots/orientation.png" alt="Screenshots" width="100%" /></p>
<p>First approach:
You can use <code>cordova-plugin-screen-orientation</code> to be able to lock orientations occasionally depending on the content.</p>
<p>Just add two listeners to handle widget state:
<div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Plugins</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@capacitor/core&#39;</span><span class="p">;</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">Antourage</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Plugins</span><span class="p">;</span>

<span class="nx">Antourage</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="s1">&#39;onViewerAppear&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">info</span><span class="o">:</span> <span class="nx">any</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
     <span class="nb">window</span><span class="p">.</span><span class="nx">screen</span><span class="p">.</span><span class="nx">orientation</span><span class="p">.</span><span class="nx">unlock</span><span class="p">();</span>
<span class="p">});</span>

<span class="nx">Antourage</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="s1">&#39;onViewerDisappear&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">info</span><span class="o">:</span> <span class="nx">any</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">screen</span><span class="p">.</span><span class="nx">orientation</span><span class="p">.</span><span class="nx">lock</span><span class="p">(</span><span class="s1">&#39;portrait&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
Second approach (a bit easier):
We can lock main capacitor controller to portrait from plugin (but application will support lanscape). It means that your ionic UI that runs in webView will be in portrait only, but everthing outside capacitor controller (Antrourage screens, or some native modals etc) will be able to use landscape.</p>
<p>You just need to call this function after your app starts:
<div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Plugins</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@capacitor/core&#39;</span><span class="p">;</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">Antourage</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Plugins</span><span class="p">;</span>

<span class="nx">Antourage</span><span class="p">.</span><span class="nx">lockCapacitorControllerToPortrait</span><span class="p">();</span>
</code></pre></div></p>
<h3 id="localization">Localization</h3>
<p>By default the Android widget will use the device language. On iOS we use the application language. English and Swedish languages are availabe.  If you want to force app to use language that differs from current one — you can use methods below:
<div class="highlight"><pre><span></span><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Plugins</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@capacitor/core&#39;</span><span class="p">;</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">Antourage</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Plugins</span><span class="p">;</span>

<span class="nx">Antourage</span><span class="p">.</span><span class="nx">setLocale</span><span class="p">({</span> <span class="nx">locale</span><span class="o">:</span> <span class="s2">&quot;en&quot;</span> <span class="p">});</span> <span class="c1">// or &quot;sv&quot;</span>
</code></pre></div></p>
<h2 id="required-parameters">Required Parameters</h2>
<p>TBD: e.g. team_id</p>
<p>Describe what parameters are there and where to get them</p>
<h2 id="example">Example</h2>
<p>To run the example project, clone the <a href="https://github.com/antourage/viewer-sdk-capacitor">Antourage repo</a> first.
And run code below from the example directory:
<div class="highlight"><pre><span></span><code>npm i
npx cap sync
ionic capacitor run ios --livereload --external
</code></pre></div></p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide", "toc.integrate", "navigation.tabs", "navigation.tabs.sticky"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.5e67fbfe.min.js"}</script>
    
    
      <script src="../../assets/javascripts/bundle.e87a5f81.min.js"></script>
      
    
  </body>
</html>